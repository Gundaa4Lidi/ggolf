<div ng-controller="ClubDetailController" data-ng-init="load()">
    <div page-loader is-loading="true"></div>
    <section id="main__content">
        <div class="action-header-alt">
            <div class="col col-md-3">
                <!--<a href="" class="top-nav__back reBack" style="top:10px;" ng-click="back()" title="返回"></a>-->
                <a href="" class="top_back_btn" ng-click="back()" title="返回"><i class="zmdi zmdi-long-arrow-left"></i></a>
            </div>

            <div class="col col-md-2 pull-right">
                <button type="submit" class="btn btn-primary" style="float: right;" ng-show="edit" ng-disabled="clubForm.$invalid" ng-click="submitDetailForm(clubForm.$valid)">保存</button>
                <button type="button" class="btn btn" style="float: right;" ng-click="edit=!edit">{{edit?'取消':'编辑'}}</button>
            </div>
        </div>
        <!--<div ng-show="loading" class="table-loading" activity-view no-relative="true" is-active="loading"></div>-->
        <div class="main__container" >

            <header class="main__title">
                <h1 style="font-family: '黑体'">球场明细</h1>
            </header>
            <div class="card">
                <form class="card new-contac ng-pristine ng-valid" style="margin-bottom: 0px;"
                     name="clubForm" novalidate>
                    <!-- <div class="new-contact__img">
                        <img ng-src="{{currentStaff.Head}}" alt="" onerror="this.src='../img/user_empty.png'">
                        <i class="new-contact__upload zmdi zmdi-camera" ngf-select ngf-change="upload($files)"></i>
                        <i class="new-contact__upload zmdi zmdi-camera"  href="#update-to-head" data-toggle="modal" data-dismiss="modal" ></i>
                    </div> -->
                    <!-- Gallery -->
                    <div class="detail-media" style="z-index:0">
                        <div class="tab-content">
                            <!-- 球场图片 -->
                            <div class="tab-pane fade in active light-gallery" id="detail-media-images">
                                <a  lightgallery ng-repeat="photo in currentClub.PhotoList" href="{{photo}}">
                                    <img ng-src="{{photo}}" err-src='../img/club/1.jpg' alt="球场封面" height="550px">
                                </a>
                            </div>

                            <!-- 球场地图 -->
                            <div class="tab-pane fade light-gallery" lightgallery id="detail-media-floorplan">
                                <a href="../img/examples/rsz_boonegolfclub_map.jpg" >
                                    <img src="../img/examples/rsz_boonegolfclub_map.jpg" alt="球场地图">
                                </a>
                            </div>

                            <!-- 球场所在地 -->
                            <style>
                                .container{
                                    background-color: silver;
                                    width:100%;
                                    position:relative;
                                    display: inline-block;
                                }
                                .dummy{
                                    margin-top: 50%;
                                }
                                .content{
                                    position:absolute;
                                    left:0;
                                    right:0;
                                    top:0;
                                    bottom: 0;
                                }
                            </style>
                            <div class="tab-pane fade container" id="detail-media-map">
                                <div class='dummy'></div>
                                <div class='content' id="mapView"></div>
                            </div>

                        </div>

                        <!-- Gallery Icons -->
                        <ul class="detail-media__nav hidden-print">
                            <li class="active"><a href="#detail-media-images" data-toggle="tab"><i class="zmdi zmdi-collection-image"></i></a></li>
                            <li><a href="#detail-media-floorplan" data-toggle="tab"><i class="zmdi zmdi-map"></i></a></li>
                            <li><a href="#detail-media-map" data-toggle="tab"><i class="zmdi zmdi-pin"></i></a></li>
                        </ul>
                    </div>

                    <div class="card__body">
                        <div class="row">
                            <div class="col-sm-4" ng-class="{ 'has-error' : clubForm.ClubName.$invalid && !clubForm.ClubName.$pristine }">
                                <div class="form-group">
                                    <label class="club_label">球场名称<span style="color: red">*</span></label>
                                    <input type="text" name="ClubName" ng-disabled="!edit" ng-model="currentClub.ClubName" class="form-control" required>
                                    <p ng-show="clubForm.ClubName.$invalid && !clubForm.ClubName.$pristine" class="help-block">
                                        <span ng-show="clubForm.ClubName.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4" ng-class="{ 'has-error' : clubForm.Mode.$invalid && !clubForm.Mode.$pristine }">
                                <div class="form-group">
                                    <label class="club_label">球场模式<span style="color: red">*</span></label>
                                    <input type="text" name="Mode" ng-model="currentClub.Mode" ng-disabled="!edit" class="form-control" required>
                                    <p ng-show="clubForm.Mode.$invalid && !clubForm.Mode.$pristine" class="help-block">
                                        <span ng-show="clubForm.Mode.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-2" ng-class="{ 'has-error' : clubForm.TotalHole.$invalid && !clubForm.TotalHole.$pristine}">
                                <div class="form-group" >
                                    <label>总洞数<span style="color: red">*</span></label>
                                    <input type="text" ng-maxlength="4" name="TotalHole" ng-model="currentClub.TotalHole" ng-disabled="!edit"
                                           class="form-control" required ng-pattern="/^[1-9]\d*$/">
                                    <p ng-show="clubForm.TotalHole.$invalid && !clubForm.TotalHole.$pristine" class="help-block">
                                        <span ng-show="clubForm.TotalHole.$error.required">必填项</span>
                                        <span ng-show="clubForm.TotalHole.$error.maxlength">超出长度</span>
                                        <span ng-show="clubForm.TotalHole.$error.pattern">数值有误</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-2" ng-class="{ 'has-error' : clubForm.TotalStemNum.$invalid && !clubForm.TotalStemNum.$pristine }">
                                <div class="form-group">
                                    <label>总杆数<span style="color: red">*</span></label>
                                    <input type="text" name="TotalStemNum" ng-maxlength="3" ng-model="currentClub.TotalStemNum" ng-disabled="!edit"
                                           class="form-control" required ng-pattern="/^[1-9]\d*$/">
                                    <p ng-show="clubForm.TotalStemNum.$invalid && !clubForm.TotalStemNum.$pristine" class="help-block">
                                        <span ng-show="clubForm.TotalStemNum.$error.required">必填项</span>
                                        <span ng-show="clubForm.TotalStemNum.$error.maxlength">超出长度</span>
                                        <span ng-show="clubForm.TotalStemNum.$error.pattern">数值有误</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label>建立时间<span style="color: red">*</span></label>
                                <div class="input-group" ng-class="{ 'has-error' : clubForm.CreateTime.$invalid && !clubForm.CreateTime.$pristine }">
                                    <input type="text" name="CreateTime" readonly class="form-control" uib-datepicker-popup="{{format}}" ng-model="CreateTime" ng-disabled="!edit"
                                           is-open="status.dateOpen" datepicker-options="dateOptions" close-text="关闭" current-text="今天" ng-required="true"/>
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-disabled="!edit" ng-click="IsOpen(1)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : clubForm.PhoneNum.$invalid && !clubForm.PhoneNum.$pristine }">
                                    <label class="club_label">联系电话<span style="color: red">*</span></label>
                                    <input type="text" name="PhoneNum" ng-model="currentClub.PhoneNum" ng-disabled="!edit" class="form-control"
                                           required ng-pattern="/(^(\d{3,4}-)?\d{7,8})$|(1[34578]\d{9})$/">
                                    <p ng-show="clubForm.PhoneNum.$invalid && !clubForm.PhoneNum.$pristine" class="help-block">
                                        <span ng-show="clubForm.PhoneNum.$error.required">必填项</span>
                                        <span ng-show="clubForm.PhoneNum.$error.pattern">格式有误</span>
                                    </p>
                                </div>
                            </div>

                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : clubForm.Stylist.$invalid && !clubForm.Stylist.$pristine }">
                                    <label class="club_label">设计师<span style="color: red">*</span></label>
                                    <input type="text" name="Stylist" ng-model="currentClub.Stylist" ng-disabled="!edit" class="form-control" required>
                                    <p ng-show="clubForm.Stylist.$invalid && !clubForm.Stylist.$pristine" class="help-block">
                                        <span ng-show="clubForm.Stylist.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : clubForm.Square.$invalid && !clubForm.Square.$pristine }">
                                    <label class="club_label">球场面积<span style="color: red">*</span></label>
                                    <input type="text" name="Square" ng-model="currentClub.Square" ng-disabled="!edit" class="form-control" required>
                                    <p ng-show="clubForm.Square.$invalid && !clubForm.Square.$pristine" class="help-block">
                                        <span ng-show="clubForm.Square.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : clubForm.Length.$invalid && !clubForm.Length.$pristine }">
                                    <label class="club_label">球场长度<span style="color: red">*</span></label>
                                    <input type="text" name="Length" ng-model="currentClub.Length" ng-disabled="!edit" class="form-control" required>
                                    <p ng-show="clubForm.Length.$invalid && !clubForm.Length.$pristine" class="help-block">
                                        <span ng-show="clubForm.Length.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : clubForm.PuttingSeed.$invalid && !clubForm.PuttingSeed.$pristine }">
                                    <label class="club_label">果岭草种<span style="color: red">*</span></label>
                                    <input type="text" name="PuttingSeed" ng-model="currentClub.PuttingSeed" ng-disabled="!edit" class="form-control" required>
                                    <p ng-show="clubForm.PuttingSeed.$invalid && !clubForm.PuttingSeed.$pristine" class="help-block">
                                        <span ng-show="clubForm.PuttingSeed.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4" ng-class="{ 'has-error' : clubForm.FairwaySeed.$invalid && !clubForm.FairwaySeed.$pristine }">
                                <div class="form-group">
                                    <label class="club_label">球道草种<span style="color: red">*</span></label>
                                    <input type="text" name="FairwaySeed" ng-model="currentClub.FairwaySeed" ng-disabled="!edit" class="form-control" required>
                                    <p ng-show="clubForm.FairwaySeed.$invalid && !clubForm.FairwaySeed.$pristine" class="help-block">
                                        <span ng-show="clubForm.FairwaySeed.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group" ng-class="{ 'has-error' : clubForm.ClubAddress.$invalid && !clubForm.ClubAddress.$pristine }">
                                    <label class="club_label">详细地址<span style="color: red">*</span></label>
                                    <input select-address p="p" c="c" a="a" d="d" ng-disabled="!edit" name="ClubAddress"
                                           ng-model="currentClub.Address" placeholder="请选择所在地" type="text" class="form-control" required>
                                    <p ng-show="clubForm.ClubAddress.$invalid && !clubForm.ClubAddress.$pristine" class="help-block">
                                        <span ng-show="clubForm.ClubAddress.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-sm-8">
                                <div class="form-group">
                                    <label class="club_label">球场设施</label>
                                    <textarea rows="3" cols="1"  ng-model="currentClub.Facility" class="form-control" ng-disabled="!edit" style="font-size: 16px;"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-sm-8">
                                <div class="form-group">
                                    <label class="club_label">球场简介</label>
                                    <textarea rows="3" cols="1"  ng-model="currentClub.Intro" class="form-control" ng-disabled="!edit" style="font-size: 16px;"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card">
                <div class="card__header">
                    <h1>
                        <span class="black">供应商</span>
                    </h1>
                </div>
                <div class="card__body">
                    <div class="row">
                        <div class="col col-md-2">
                            <div class="form-group">
                                <a href="" class="a_btn" ng-click="addServe()">+ 添加供应商</a>
                            </div>
                        </div>
                        <div class="col col-md-2">
                            <div class="form-group">
                                <input type="text" ng-change="getClubServe()" placeholder="搜索供应商" ng-model="serveKeyword" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col col-md-12 panel-group" id="accordion">
                            <div class="panel panel-default" ng-repeat="uib in clubServes">
                                <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" href="#contain{{$index}}" ng-click="cnIndex($index,uib);">
                                    <h4 class="panel-title text-center">
                                        <a href="">{{uib.Name}}</a>
                                    </h4>
                                </div>
                                <div id="contain{{$index}}" class="panel-collapse collapse">
                                    <div class="panel-body" >
                                        <div class="row">
                                            <div class="col-sm-4 pull-right" ng-show="edit">
                                                <div class="form-group">
                                                    <button class="btn btn-danger pull-right" ng-click="removeClubServe(uib)">删除</button>
                                                    <button class="btn btn-info pull-right" ng-click="editServe(uib)">修改</button>
                                                </div>
                                            </div>
                                        </div>
                                        <uib-tabset active="active" justified="true">
                                            <uib-tab index="0" heading="限时活动">
                                                <div class="p-t-10">
                                                    <div class="col-sm-12">
                                                        <!--<div ng-show="loading" class="table-loading" activity-view no-relative="true" is-active="loading"></div>-->
                                                        <div class="text-center" >
                                                            <div class="m-t-25" >
                                                                <small>暂无限时活动</small>
                                                            </div>
                                                            <!--<table class="table table-bordered table-hover table_wrap">-->
                                                            <!--</table>-->
                                                            <div class="list-group list-group--block contact-lists" >
                                                                <div class="list-group__header text-left">
                                                                    <span>共1个课程</span>
                                                                    <!--<input ng-model="keyword2">-->
                                                                </div>
                                                                <div class="list-group__wrap">
                                                                    <div class="list-group-item media" href="#">
                                                                        <div class="p-t-20 p-l-10">
                                                                            <div class="row pull-left">
                                                                                <h4><span>三角形中单</span></h4>
                                                                            </div>
                                                                        </div>
                                                                        <div class="list-group__label list-group__label--float">
                                                                            <span class="mdc-bg-amber-A700">申请中</span>
                                                                        </div>
                                                                        <div class="actions list-group__actions list-group__actions--centered">
                                                                            <div class="dropdown">
                                                                                <a href="" data-toggle="dropdown"><i class="zmdi zmdi-more-vert"></i></a>
                                                                                <ul class="dropdown-menu pull-right">
                                                                                    <li><a href="#">详情</a></li>
                                                                                    <!--  <li><a href="#update-to-user" data-toggle="modal" ng-click="editUser(item)">修改</a></li> -->
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="m-t-25">
                                                                <a href="" class="red_btn mdc-text-red" ng-click="AddLimitTime()">添加限时活动</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </uib-tab>
                                            <uib-tab index="$index + 1" class="p-t-10" ng-repeat="weekday in weekdays track by $index" ng-click="wnIndex($index)" heading="{{weekday=='other'?'特殊时段':'周'+weekday}}">
                                                <div class="p-t-10">
                                                    <div>
                                                        <div class="col-sm-4" ng-show="weekday==='other'">
                                                            <div ng-show="loading" class="table-loading" activity-view no-relative="true" is-active="loading"></div>
                                                            <div ng-show="!loading">
                                                                <div class="row">
                                                                    <div class="col-sm-5">
                                                                        <a href="" class="red_btn" ng-click="addDT(uib)">
                                                                            新增日期
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="row p-t-10">
                                                                    <div class="col-sm-12 form-group">
                                                                        <!--<input type="text" ng-change="odSearch()" placeholder="搜索日期" ng-model="odKeyword" class="form-control">-->
                                                                        <div class="input-group">
                                                                            <input type="text" ng-model="odKeyword" class="form-control"
                                                                                   placeholder="搜索日期">
                                                                            <span class="input-group-btn">
                                                                                <button type="button" class="btn btn-info" ng-click="odSearch(odKeyword)">
                                                                                    <i class="fa fa-search" aria-hidden="true"></i>
                                                                                </button>
                                                                                <button type="button" ng-show="odKeyword!=''"
                                                                                        class="btn btn-warning" ng-click="odSearch('');odKeyword=''">清空</button>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="overflow: auto;height: 97%;">
                                                                    <div class="col-sm-12 form-group time_btn">
                                                                        <a href="" ng-class="{active:dateIndex === $index}" ng-repeat="date in dateList"
                                                                           ng-click="priceTimeForm.$setPristine();dtIndex($index,date.DateTime)">{{date.DateTime}}</a>
                                                                    </div>
                                                                    <div class="load-more" ng-show="TotalOtherDate > 20">
                                                                        <a href="" ng-click="loading()"><i ng-if="loadMore" class="zmdi zmdi-refresh-alt"></i> {{loadMore?'加载更多':'没有更多了'}}</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col col-sm-4">
                                                            <div class="form-group time_btn">
                                                                <label>上午</label>
                                                                <a href="" ng-class="{active:mTimeIndex === $index}" ng-repeat="mTime in morningTimes"
                                                                   ng-click="priceTimeForm.$setPristine();checkTime(mTime,weekday,uib,$index,'m')">{{mTime}}</a>
                                                            </div>
                                                            <div class="form-group time_btn">
                                                                <label>下午</label>
                                                                <a href="" ng-class="{active:aTimeIndex === $index}" ng-repeat="aTime in afternoonTimes"
                                                                   ng-click="priceTimeForm.$setPristine();checkTime(aTime,weekday,uib,$index,'a')">{{aTime}}</a>
                                                            </div>
                                                            <div class="form-group time_btn">
                                                                <label>晚上</label>
                                                                <a href="" ng-class="{active:nTimeIndex === $index}" ng-repeat="nTime in nightTimes"
                                                                   ng-click="priceTimeForm.$setPristine();checkTime(nTime,weekday,uib,$index,'n')">{{nTime}}</a>
                                                            </div>
                                                        </div>
                                                        <div class="col col-sm-4">
                                                            <form class="ng-pristine ng-valid" style="margin-bottom: 0px;"
                                                                  name="priceTimeForm" ng-submit="priceSubmit(priceTimeForm.$valid,weekday);priceTimeForm.$setPristine();" novalidate>
                                                                <div class="row">
                                                                    <div class="col-sm-12" ng-class="{ 'has-error' : priceTimeForm.Time.$invalid && !priceTimeForm.Time.$pristine }">
                                                                        <div class="form-group">
                                                                            <label class="club_label">时间段</label>
                                                                            <input type="text" name="Time" ng-model="currentTime.Time" readonly class="form-control" required>
                                                                            <p ng-show="priceTimeForm.Time.$invalid && !priceTimeForm.Time.$pristine" class="help-block">
                                                                                <span ng-show="priceTimeForm.Time.$error.required">必填项</span>
                                                                                <span ng-show="priceTimeForm.Time.$error.pattern">数值有误</span>
                                                                            </p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-sm-12" ng-class="{ 'has-error' : priceTimeForm.DownPayment.$invalid && !priceTimeForm.DownPayment.$pristine
                                                             || priceTimeForm.DownPayment.$error.pattern }">
                                                                        <div class="form-group">
                                                                            <label class="club_label">首付
                                                                                <span style="color: red">*</span>&nbsp;&nbsp;
                                                                                <!--(<span><input id="IsDeposit" ng-model="IsDeposit" type="checkbox"/> 需要押金 </span>)-->
                                                                            </label>
                                                                            <input type="text" name="DownPayment" ng-disabled="!edit" ng-model="currentTime.DownPayment" class="form-control"
                                                                                   required ng-pattern="/^([0-9]\d*(\.\d*[0-9])?)|(0\.\d*[1-9])$/">
                                                                            <p ng-show="priceTimeForm.DownPayment.$invalid && !priceTimeForm.DownPayment.$pristine" class="help-block">
                                                                                <span ng-show="priceTimeForm.DownPayment.$error.required">必填项</span>
                                                                                <span ng-show="priceTimeForm.DownPayment.$error.pattern">数值有误</span>
                                                                            </p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-sm-12" ng-class="{ 'has-error' : priceTimeForm.OtherPrice.$invalid && !priceTimeForm.OtherPrice.$pristine
                                                            || priceTimeForm.OtherPrice.$error.pattern}">
                                                                        <div class="form-group">
                                                                            <label class="club_label">其他费用<span style="color: red">*</span></label>
                                                                            <input type="text" name="OtherPrice" ng-disabled="!edit" ng-model="currentTime.OtherPrice" class="form-control"
                                                                                   required ng-pattern="/^([0-9]\d*(\.\d*[0-9])?)|(0\.\d*[1-9])$/">
                                                                            <p ng-show="priceTimeForm.OtherPrice.$invalid && !priceTimeForm.OtherPrice.$pristine" class="help-block">
                                                                                <span ng-show="priceTimeForm.OtherPrice.$error.required">必填项</span>
                                                                                <span ng-show="priceTimeForm.OtherPrice.$error.pattern">数值有误</span>
                                                                            </p>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-sm-12" ng-class="{ 'has-error' : priceTimeForm.Type.$invalid && !priceTimeForm.Type.$pristine }">
                                                                        <div class="form-group">
                                                                            <label class="club_label">支付方式<span style="color: red">*</span></label>
                                                                            <select ng-model="currentTime.Type" ng-disabled="!edit" name="Type" class="form-control"
                                                                                    ng-options="pay.value as pay.key for pay in Payment" required></select>
                                                                            <p ng-show="priceTimeForm.Type.$invalid && !priceTimeForm.Type.$pristine" class="help-block">
                                                                                <span ng-show="priceTimeForm.Type.$error.required">必填项</span>
                                                                                <span ng-show="priceTimeForm.Type.$error.pattern">数值有误</span>
                                                                            </p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-sm-6" ng-show="weekday==='other'">
                                                                        <label>是否优惠时段</label>
                                                                        <div class="row">
                                                                            <div class="col-md-4">
                                                                                <input type="radio" name="IsPrivilege" ng-disabled="!edit" ng-model="currentTime.IsPrivilege" value="1">是
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <input type="radio" name="IsPrivilege" ng-disabled="!edit" ng-model="currentTime.IsPrivilege" value="0">否
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-6" ng-show="weekday==='other'">
                                                                        <label>是否有效时段</label>
                                                                        <div class="row">
                                                                            <div class="col-md-4">
                                                                                <input type="radio" name="IsValid" ng-disabled="!edit" ng-model="currentTime.IsValid" value="1">是
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <input type="radio" name="IsValid" ng-disabled="!edit" ng-model="currentTime.IsValid" value="0">否
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row" ng-show="priceTimeForm.$dirty">
                                                                    <div class="col-sm-12">
                                                                        <button type="submit" class="btn btn-primary  pull-right" ng-disabled="priceTimeForm.$invalid||(weekday==='other'&&DTime==null)">提交</button>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </uib-tab>
                                        </uib-tabset>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col col-md-12 text-center">
                            <ul uib-pagination boundary-links="true" total-items="totalItems" max-size="pageConfig.maxSize"
                                ng-model="pageConfig.currentPage" ng-show="totalItems>5" ng-change="getClubServe()"
                                class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card__header">
                    <h1><span class="black">球道详情</span></h1>
                </div>
                <div class="card__body">
                    <!--<div ng-show="true" class="table-loading" activity-view no-relative="true" is-active="true"></div>-->
	                <div class="row">
	                	<div class="col col-md-2">
	                		<div class="form-group">
	                            <a href="" class="a_btn" ng-click="addFairway()" >+ 添加球道</a>
	                        </div> 
	                	</div>
	                </div>
                    <div class="row" ng-repeat="fw in fairwayList">
                        <div class="form-group">
                            <label class="club_label">{{fw.FairwayName}}</label>
                            <a href="" class="fw_btn mdc-bg-green" tooltips tooltip-side="top" tooltip-template="标准杆:{{p}}" ng-mouseover="changePar(p)" ng-repeat="p in fw.Par track by $index">{{$index+1}}</a>
                        </div>
                    </div>
                
                </div>
            </div>


        </div>
    </section>
    <div class="modal fade" id="addLimitTime" data-backdrop="static"
         data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"
                            aria-hidden="true" ng-click="limitTimeForm.$setPristine();">&times;</button>
                    <h4 class="modal-title">限时活动</h4>
                </div>
                <form class="new-contact ng-pristine ng-valid" name="limitTimeForm" ng-submit="submitlimitTimeForm(limitTimeForm.$valid)" novalidate>
                    <div class="modal-body">

                        <!--<div class="form-group" ng-class="{ 'has-error' : limitTimeForm.DateTime.$invalid && !limitTimeForm.DateTime.$pristine }">-->
                            <!--<label>特殊日期</label>-->
                            <!--<input type="text" readonly class="form-control" name="DateTime" uib-datepicker-popup="{{format}}" ng-model="DateTime" required>-->
                            <!--<p ng-show="limitTimeForm..$invalid && !limitTimeForm..$pristine" class="help-block">必填项</p>-->
                        <!--</div>-->
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group"
                                     ng-class="{ 'has-error' : limitTimeForm.Name.$invalid && !limitTimeForm.Name.$pristine }">
                                    <label class="control-label">活动名称<span style="color: red">*</span></label>
                                    <input type="text" name="Name" ng-model="currentLimitTime.Name"
                                           class="form-control" required>
                                    <p ng-show="limitTimeForm.Name.$invalid && !limitTimeForm.Name.$pristine"
                                       class="help-block">
                                        <span ng-show="limitTimeForm.Name.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group"
                                     ng-class="{ 'has-error' : limitTimeForm.Price.$invalid && !limitTimeForm.Price.$pristine }">
                                    <label class="control-label">抢购金额<span style="color: red">*</span></label>
                                    <div class="input-group">
                                        <input type="text" name="Price" ng-model="currentLimitTime.Price"
                                               class="form-control" required ng-pattern="/^([1-9]\d*(\.\d*[1-9])?)$/">
                                        <span class="input-group-addon">元</span>
                                    </div>
                                    <p ng-show="limitTimeForm.Price.$invalid && !limitTimeForm.Price.$pristine"
                                       class="help-block">
                                        <span ng-show="limitTimeForm.Price.$error.required">必填项</span>
                                        <span ng-show="limitTimeForm.Price.$error.pattern">格式有误</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group" ng-class="{ 'has-error' : limitTimeForm.Count.$invalid && !limitTimeForm.Count.$pristine }">
                                    <label class="control-label">限购数量<span style="color: red">*</span></label>
                                    <div class="input-group">
                                        <input type="text" name="Count" ng-model="currentLimitTime.Count" placeholder="例如:30"
                                               class="form-control" required ng-pattern="/^([1-9]\d*)$/">
                                        <span class="input-group-addon">单</span>
                                    </div>
                                    <p ng-show="limitTimeForm.Count.$invalid && !limitTimeForm.Count.$pristine" class="help-block">
                                        <span ng-show="limitTimeForm.Count.$error.required">必填项</span>
                                        <span ng-show="limitTimeForm.Count.$error.pattern">数值有误</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group" ng-class="{ 'has-error' : limitTimeForm.BeginStartTime.$invalid && !limitTimeForm.BeginStartTime.$pristine }">
                                    <label class="control-label">开始抢购时间<span style="color: red">*</span></label>
                                    <input class="form-control form_datetime" name="BeginStartTime" ng-change="changeDate()"
                                           ng-model="currentLimitTime.BeginStartTime" ng-time
                                           data-date-format="yyyy-mm-dd hh:ii"
                                           size="16" type="text" value="" readonly required>
                                    <p ng-show="limitTimeForm.BeginStartTime.$invalid && !limitTimeForm.BeginStartTime.$pristine" class="help-block">
                                        <span ng-show="limitTimeForm.BeginStartTime.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-6" ng-show="currentLimitTime.BeginStartTime">
                                <div class="form-group" ng-class="{ 'has-error' : limitTimeForm.BeginEndTime.$invalid && !limitTimeForm.BeginEndTime.$pristine }">
                                    <label class="control-label">结束抢购时间<span style="color: red">*</span></label>
                                    <input class="form-control form_datetime" name="BeginEndTime" ng-change="changeDate()"
                                           data-date-format="yyyy-mm-dd hh:ii"
                                           ng-model="currentLimitTime.BeginEndTime" ng-time
                                           size="16" type="text" value="" readonly required>
                                    <p ng-show="limitTimeForm.BeginEndTime.$invalid && !limitTimeForm.BeginEndTime.$pristine" class="help-block">
                                        <span ng-show="limitTimeForm.BeginEndTime.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group" ng-class="{ 'has-error' : limitTimeForm.Date.$invalid && !limitTimeForm.Date.$pristine }">
                                    <label class="control-label">活动日期<span style="color: red">*</span></label>
                                    <input class="form-control form_date" name="Date"
                                           data-date-format="yyyy-mm-dd" ng-time
                                           ng-model="currentLimitTime.Date"
                                           size="10" type="text" readonly required>
                                    <p ng-show="limitTimeForm.Date.$invalid && !limitTimeForm.Date.$pristine" class="help-block">
                                        <span ng-show="limitTimeForm.Date.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group" ng-class="{ 'has-error' : limitTimeForm.StartTime.$invalid && !limitTimeForm.StartTime.$pristine }">
                                    <label class="control-label">活动开始时间<span style="color: red">*</span></label>
                                    <input class="form-control form_time" name="StartTime"
                                           data-date-format="hh:ii" ng-time
                                           ng-model="currentLimitTime.StartTime"
                                           size="5" type="text" value="" readonly required>
                                    <p ng-show="limitTimeForm.StartTime.$invalid && !limitTimeForm.StartTime.$pristine" class="help-block">
                                        <span ng-show="limitTimeForm.StartTime.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group" ng-class="{ 'has-error' : limitTimeForm.EndTime.$invalid && !limitTimeForm.EndTime.$pristine }">
                                    <label class="control-label">活动结束时间<span style="color: red">*</span></label>
                                    <input class="form-control form_time" name="EndTime"
                                           data-date-format="hh:ii" ng-time
                                           ng-model="currentLimitTime.EndTime"
                                           size="5" type="text" value="" readonly required>
                                </div>
                                <p ng-show="limitTimeForm.EndTime.$invalid && !limitTimeForm.EndTime.$pristine" class="help-block">
                                    <span ng-show="limitTimeForm.EndTime.$error.required">必填项</span>
                                </p>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group"
                                     ng-class="{ 'has-error' : limitTimeForm.ServiceExplain.$invalid && !limitTimeForm.ServiceExplain.$pristine }">
                                    <label class="control-label">服务说明<span style="color: red">*</span></label>
                                    <textarea type="text" name="ServiceExplain" cols="1" rows="2" class="form-control"
                                              ng-model="currentLimitTime.ServiceExplain" required></textarea>
                                    <p ng-show="limitTimeForm.ServiceExplain.$invalid && !limitTimeForm.ServiceExplain.$pristine"
                                       class="help-block">
                                        <span ng-show="limitTimeForm.ServiceExplain.$error.required">必填项</span>
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer" style="padding: 0 30px 10px;">
                        <button type="button" class="btn btn-link" data-dismiss="modal">取消</button>
                        <button type="submit" class="btn btn-primary" ng-disabled="limitTimeForm.$invalid" ng-click="limitTimeForm.$setPristine();">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="addDateTime" data-backdrop="static"
         data-keyboard="false">
        <div class="modal-dialog" style="width:380px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">新增特殊日期</h4>
                </div>
                <form class="new-contact ng-pristine ng-valid" name="dateForm" ng-submit="submitDateForm(dateForm.$valid)" novalidate>
                    <div class="modal-body">
                        <div style="display:inline-block; min-height:290px;">
                            <div uib-datepicker ng-model="dt" class="well well-sm" datepicker-options="options" ng-change="checkDT(dt)"></div>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error' : dateForm.DateTime.$invalid && !dateForm.DateTime.$pristine }">
                            <label>特殊日期</label>
                            <input type="text" readonly class="form-control" name="DateTime" uib-datepicker-popup="{{format}}" ng-model="DateTime" required>
                            <p ng-show="dateForm.DateTime.$invalid && !dateForm.DateTime.$pristine" class="help-block">必填项</p>
                        </div>

                    </div>
                    <div class="modal-footer" style="padding: 0 30px 10px;">
                        <button type="button" class="btn btn-link" data-dismiss="modal">取消</button>
                        <button type="submit" class="btn btn-primary" ng-disabled="dateForm.$invalid" ng-click="dateForm.$setPristine();">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="addClubServe" data-backdrop="static"
         data-keyboard="false" style="font-family: '黑体'; color: #000;">
        <div class="modal-dialog" style="width:400px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">增改供应商</h4>
                </div>
                <form class="new-contact ng-pristine ng-valid" name="serveForm" ng-submit="submitServeForm(serveForm.$valid)" novalidate>
                    <div class="modal-body">
                        <div class="form-group" ng-class="{ 'has-error' : serveForm.Name.$invalid && !serveForm.Name.$pristine }">
                            <label>供应商名称</label>
                            <input type="text" name="Name" class="form-control" ng-model="clubServe.Name" required>
                            <p ng-show="serveForm.Name.$invalid && !serveForm.Name.$pristine" class="help-block">必填项</p>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error' : serveForm.MaxDay.$invalid && !serveForm.MaxDay.$pristine }">
                            <label>日数上限</label>
                            <div class="input-group">
                                <input type="text" name="MaxDay" ng-model="clubServe.MaxDay" placeholder="例如:30"
                                       class="form-control" required ng-pattern="/^([1-9]\d*)$/">
                                <span class="input-group-addon">天</span>
                            </div>
                            <p ng-show="serveForm.MaxDay.$invalid && !serveForm.MaxDay.$pristine" class="help-block">
                                <span ng-show="serveForm.MaxDay.$error.required">必填项</span>
                                <span ng-show="serveForm.MaxDay.$error.pattern">数值有误</span>
                            </p>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error' : serveForm.ServiceExplain.$invalid && !serveForm.ServiceExplain.$pristine }">
                            <label>服务包含</label>
                            <textarea type="text" rows="1" cols="1" name="ServiceExplain" class="form-control" placeholder="例如:18洞果岭/僮/车/柜" ng-model="clubServe.ServiceExplain" required></textarea>
                            <p ng-show="serveForm.ServiceExplain.$invalid && !serveForm.ServiceExplain.$pristine" class="help-block">必填项</p>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error' : serveForm.ReserveExplain.$invalid && !serveForm.ReserveExplain.$pristine }">
                            <label>预订说明</label>
                            <textarea type="text" rows="3" cols="1" name="ReserveExplain" placeholder="例如:提前一天预订，无单车差..." class="form-control" ng-model="clubServe.ReserveExplain" required></textarea>
                            <p ng-show="serveForm.ReserveExplain.$invalid && !serveForm.ReserveExplain.$pristine" class="help-block">必填项</p>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error' : serveForm.CancelExplain.$invalid && !serveForm.CancelExplain.$pristine }">
                            <label>取消订单说明</label>
                            <textarea type="text" rows="3" cols="1" name="CancelExplain" placeholder="例如:提前一天取消或变更" class="form-control" ng-model="clubServe.CancelExplain" required></textarea>
                            <p ng-show="serveForm.CancelExplain.$invalid && !serveForm.CancelExplain.$pristine" class="help-block">必填项</p>
                        </div>
                    </div>
                    <div class="modal-footer" style="padding: 0 30px 10px;">
                        <button type="button" class="btn btn-link" data-dismiss="modal">取消</button>
                        <button type="submit" class="btn btn-primary" ng-disabled="serveForm.$invalid" ng-click="serveForm.$setPristine()">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="addFw" data-backdrop="static"
		data-keyboard="false">
		<div class="modal-dialog" style="width: 280px;">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">增改球道信息</h4>
				</div>
                <form class="card new-contact ng-pristine ng-valid" name="fairwayFrom"
                      ng-submit="submitFairwayForm(fairwayFrom.$valid)" novalidate>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group"
                                     ng-class="{ 'has-error' : fairwayFrom.FairwayName.$invalid && !fairwayFrom.FairwayName.$pristine }">
                                    <label>球道名</label>
                                    <input type="text" name="FairwayName" ng-model="currentFairway.FairwayName" class="form-control"required/>
                                    <p ng-show="fairwayFrom.FairwayName.$invalid && !fairwayFrom.FairwayName.$pristine" class="help-block">必填项</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole1.$invalid && !fairwayFrom.hole1.$pristine }">
                                    <label>球洞1</label>
                                    <input class="form-control" type="text" name="hole1" ng-maxlength="1"
                                           ng-model="currentFairway.hole1" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole1.$invalid && !fairwayFrom.hole1.$pristine" class="help-block">
                                        <span ng-show="fairwayFrom.hole1.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole1.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole1.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole2.$invalid && !fairwayFrom.hole2.$pristine }">
                                    <label>球洞2</label>
                                    <input class="form-control" type="text" name="hole2" ng-maxlength="1" ng-model="currentFairway.hole2" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole2.$invalid && !fairwayFrom.hole2.$pristine" class="help-block">
                                        <span ng-show="fairwayFrom.hole2.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole2.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole2.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole3.$invalid && !fairwayFrom.hole3.$pristine }">
                                    <label>球洞3</label>
                                    <input class="form-control" type="text" name="hole3" ng-maxlength="1" ng-model="currentFairway.hole3" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole3.$invalid && !fairwayFrom.hole3.$pristine " class="help-block">
                                        <span ng-show="fairwayFrom.hole3.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole3.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole3.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole4.$invalid && !fairwayFrom.hole4.$pristine }">
                                    <label>球洞4</label>
                                    <input class="form-control" type="text" name="hole4" ng-maxlength="1" ng-model="currentFairway.hole4" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole4.$invalid && !fairwayFrom.hole4.$pristine" class="help-block">
                                        <span ng-show="fairwayFrom.hole4.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole4.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole4.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole5.$invalid && !fairwayFrom.hole5.$pristine }">
                                    <label>球洞5</label>
                                    <input class="form-control" type="text" name="hole5" ng-maxlength="1" ng-model="currentFairway.hole5" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole5.$invalid && !fairwayFrom.hole5.$pristine" class="help-block">
                                        <span ng-show="fairwayFrom.hole5.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole5.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole5.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole6.$invalid && !fairwayFrom.hole6.$pristine }">
                                    <label>球洞6</label>
                                    <input class="form-control" type="text" name="hole6" ng-maxlength="1" ng-model="currentFairway.hole6" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole6.$invalid && !fairwayFrom.hole6.$pristine " class="help-block">
                                        <span ng-show="fairwayFrom.hole6.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole6.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole6.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole7.$invalid && !fairwayFrom.hole7.$pristine }">
                                    <label>球洞7</label>
                                    <input class="form-control" type="text" name="hole7" ng-maxlength="1" ng-model="currentFairway.hole7" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole7.$invalid && !fairwayFrom.hole7.$pristine" class="help-block">
                                        <span ng-show="fairwayFrom.hole7.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole7.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole7.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole8.$invalid && !fairwayFrom.hole8.$pristine }">
                                    <label>球洞8</label>
                                    <input class="form-control" type="text" name="hole8" ng-maxlength="1" ng-model="currentFairway.hole8" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole8.$invalid && !fairwayFrom.hole8.$pristine" class="help-block">
                                        <span ng-show="fairwayFrom.hole8.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole8.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole8.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : fairwayFrom.hole9.$invalid && !fairwayFrom.hole9.$pristine }">
                                    <label>球洞9</label>
                                    <input class="form-control" type="text" name="hole9" ng-maxlength="1" ng-model="currentFairway.hole9" required ng-pattern="/^[3-5]\d*$/">
                                    <p ng-show="fairwayFrom.hole9.$invalid && !fairwayFrom.hole9.$pristine " class="help-block">
                                        <span ng-show="fairwayFrom.hole9.$error.required">必填项</span>
                                        <span ng-show="fairwayFrom.hole9.$error.pattern">数值有误</span>
                                        <span ng-show="fairwayFrom.hole9.$error.maxlength">超出长度</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link" data-dismiss="modal">取消</button>
                        <button type="submit" class="btn btn-primary" ng-disabled="fairwayFrom.$invalid"
                                ng-click="fairwayFrom.$setPristine()">保存
                        </button>
                    </div>
                </form>
			</div>
		</div>
	</div>
</div>